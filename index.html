<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
</head>
<body>

<h1>Choose wisely!</h1>
<button id="rock">Rock</button>
<button id="paper">Paper</button>
<button id="scissors">Scissors</button>

<br><br>

<div id="score">
  <p>Score:</p>
</div>

<div id="results">
  <p>Results</p>
</div>

  <script>

    //computer opponent's selection. selected at random
    function computerPlay(){
      let playArray = ['rock', 'paper', 'scissors'];

        return playArray[Math.floor(Math.random()*playArray.length)];
    }

    //playRound function takes in both user and computer selection
    //determines who won the round and returns the result

    function playRound(playerSelection, computerSelection) {
  	   playerSelection = playerSelection.toLowerCase(); //convert to lower case so all inputs are valid
       computerSelection = computerSelection.toLowerCase();

       if (playerSelection === "paper" && computerSelection ==="rock") {
         return "You Win!";
       } else if (playerSelection === "scissors" && computerSelection === "paper") {
         return "You Win!";
       } else if (playerSelection === "rock" && computerSelection === "scissors") {
         return "You Win!";
       } else if (playerSelection === computerSelection) {
         return "Draw!";
       } else {
         return "You Lose!";
       }
    }

    //game() function loops through 5 rounds of rock paper Scissors
    //displays results of each round, and at the end display how many rounds were won
    function game(e){
      gameCount++;

      let userChoice = e.target.id;
      let computerChoice = computerPlay();
      let result = playRound(userChoice, computerChoice);
      console.log(" You chose " + userChoice + ". Computer chose " + computerChoice);
      console.log(result);

      if ( result === "You Win!") {
        wins++;
      }

      result += " You chose " + userChoice + ". Computer chose " + computerChoice
      displayResult(result);

    }

    //function used to display score and results text
    function displayResult(result) {
      var para = document.createElement("p");
      var node = document.createTextNode(result);
      para.appendChild(node);
      var element = document.getElementById("results");
      element.appendChild(para);

      score.textContent = "Score: " + wins + " / " + gameCount;
      console.log("You won " + wins + " out of 5 rounds");
    }

    const buttons = document.querySelectorAll('button');
    const score = document.querySelector('#score');
    buttons.forEach(button => button.addEventListener('mousedown',game));
    var wins = 0; //keeps track of user wins
    var gameCount = 0; //keeps track of total games user played

  </script>
</body>
</html>
